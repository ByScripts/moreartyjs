<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: util/Callback.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: util/Callback.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * @name Callback
 * @namespace
 * @classdesc Miscellaneous callback util functions.
 */
define(['Util'], function (Util) {

  return {

    /** Create callback used to assoc binding value on an event.
     * @param {Binding} binding binding
     * @param {String|Array} [subpath] subpath as a dot-separated string or an array of strings and numbers
     * @param {Function} [f] value transformer
     * @returns {Function} callback
     * @memberOf Callback */
    assoc: function (binding, subpath, f) {
      var args = Util.resolveArgs(
        arguments,
        'binding', function (x) { return Util.canRepresentSubpath(x) ? 'subpath' : null; }, '?f'
      );

      return function (event) {
        var value = event.target.value;
        binding.assoc(args.subpath, args.f ? args.f(value) : value);
        return false;
      };
    },

    /** Create callback used to dissoc binding value on an event.
     * @param {Binding} binding binding
     * @param {String|Array} [subpath] subpath as a dot-separated string or an array of strings and numbers
     * @param {Function} [pred] predicate
     * @returns {Function} callback
     * @memberOf Callback */
    dissoc: function (binding, subpath, pred) {
      var args = Util.resolveArgs(
        arguments,
        'binding', function (x) { return Util.canRepresentSubpath(x) ? 'subpath' : null; }, '?pred'
      );

      return function (event) {
        var value = event.target.value;
        if (!args.pred || args.pred(value)) {
          binding.dissoc(args.subpath);
        }
        return false;
      };
    },

    /** Create callback invoked when specified key combination is pressed.
     * @param {Function} cb callback
     * @param {Number} keyCode key code
     * @param {Boolean} shiftKey shift key flag
     * @param {Boolean} ctrlKey ctrl key flag
     * @returns {Function} callback
     * @memberOf Callback */
    onKey: function (cb, keyCode, shiftKey, ctrlKey) {
      return function (event) {
        if (event.keyCode === keyCode && event.shiftKey === shiftKey && event.ctrlKey === ctrlKey) {
          cb(event);
          return false;
        } else {
          return true;
        }
      };
    },

    /** Create callback invoked when enter key is pressed.
     * @param {Function} cb callback
     * @returns {Function} callback
     * @memberOf Callback */
    onEnter: function (cb) {
      return this.onKey(cb, 13, false, false);
    },

    /** Create callback invoked when escape key is pressed.
     * @param {Function} cb callback
     * @returns {Function} callback
     * @memberOf Callback */
    onEscape: function (cb) {
      return this.onKey(cb, 27, false, false);
    }

  };

});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Associative.html">Associative</a></li><li><a href="Binding.html">Binding</a></li><li><a href="Context.html">Context</a></li><li><a href="Holder.html">Holder</a></li><li><a href="Iter.html">Iter</a></li><li><a href="Map.html">Map</a></li><li><a href="MapIter.html">MapIter</a></li><li><a href="TransactionContext.html">TransactionContext</a></li><li><a href="Vector.html">Vector</a></li><li><a href="VectorIter.html">VectorIter</a></li></ul><h3>Namespaces</h3><ul><li><a href="Callback.html">Callback</a></li><li><a href="DataUtil.html">DataUtil</a></li><li><a href="History.html">History</a></li><li><a href="Morearty.html">Morearty</a></li><li><a href="Util.html">Util</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Sat Jul 19 2014 16:50:04 GMT+0300 (FET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
