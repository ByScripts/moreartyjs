<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: data/Util.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: data/Util.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * @name DataUtil
 * @namespace
 * @classdesc Miscellaneous data-related util functions.
 */
define(['data/Map', 'data/Vector'], function (Map, Vector) {

  var toJs, fromJs;

  toJs = function (associative) {
    if (Map.isInstance(associative)) {
      return associative.toObject(toJs);
    } else if (Vector.isInstance(associative)) {
      return associative.toArray(toJs);
    } else {
      return associative;
    }
  };

  fromJs = function (js) {
    if (Array.isArray(js)) {
      return Vector.fillFromArray(js, fromJs);
    } else if (typeof js === 'object') {
      return Map.fillFromObject(js, fromJs);
    } else {
      return js;
    }
  };

  return {

    /** Convert associative data structure to JavaScript native representation.
     * @param {Associative} associative associative data structure
     * @return {Object|Array} JavaScript representation
     * @see Associative
     * @memberOf DataUtil */
    toJs: function (associative) {
      return toJs(associative);
    },

    /** Convert JavaScript data structure to associative.
     * @param {Object|Array} js JavaScript object or array
     * @return {Associative} associative data structure
     * @see Associative
     * @memberOf DataUtil */
    fromJs: function (js) {
      return fromJs(js);
    },

    /** Group collection by key.
     * @param {Vector} vec vector
     * @param {String|Array} key key to group by
     * @param {Function} [f] value transformer
     * @returns {Map}
     * @memberOf DataUtil */
    groupBy: function (vec, key, f) {
      return vec.reduce(
        function (map, value) {
          var groupBy = Array.isArray(key) ? value.getIn(key) : value.get(key);
          if (groupBy) {
            return map.assoc(f ? f(groupBy) : groupBy, value);
          } else {
            return map;
          }
        },
        Map
      );
    }

  };

});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Associative.html">Associative</a></li><li><a href="Binding.html">Binding</a></li><li><a href="Context.html">Context</a></li><li><a href="Holder.html">Holder</a></li><li><a href="Iter.html">Iter</a></li><li><a href="Map.html">Map</a></li><li><a href="MapIter.html">MapIter</a></li><li><a href="TransactionContext.html">TransactionContext</a></li><li><a href="Vector.html">Vector</a></li><li><a href="VectorIter.html">VectorIter</a></li></ul><h3>Namespaces</h3><ul><li><a href="Callback.html">Callback</a></li><li><a href="DataUtil.html">DataUtil</a></li><li><a href="History.html">History</a></li><li><a href="Morearty.html">Morearty</a></li><li><a href="Util.html">Util</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Tue Jul 22 2014 09:05:58 GMT+0300 (FET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
