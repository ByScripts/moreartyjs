// Generated by uRequire v0.6.18 - template: 'combined' 
// Combined template optimized with RequireJS/r.js v2.1.14 & almond.
/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

(function(t,e){"use strict";var n=!("function"!=typeof define||!define.amd),r="object"==typeof exports,i=function(){var t,n,r;return function(e){function i(t,e){return _.call(t,e)}function u(t,e){var n,r,i,u,a,o,s,l,c,f,p,d=e&&e.split("/"),h=m.map,g=h&&h["*"]||{};if(t&&"."===t.charAt(0))if(e){for(d=d.slice(0,d.length-1),t=t.split("/"),a=t.length-1,m.nodeIdCompat&&S.test(t[a])&&(t[a]=t[a].replace(S,"")),t=d.concat(t),c=0;c<t.length;c+=1)if(p=t[c],"."===p)t.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((d||g)&&h){for(n=t.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),d)for(f=d.length;f>0;f-=1)if(i=h[d.slice(0,f).join("/")],i&&(i=i[r])){u=i,o=c;break}if(u)break;!s&&g&&g[r]&&(s=g[r],l=c)}!u&&s&&(u=s,o=l),u&&(n.splice(0,o,u),t=n.join("/"))}return t}function a(t,n){return function(){return d.apply(e,w.call(arguments,0).concat([t,n]))}}function o(t){return function(e){return u(e,t)}}function s(t){return function(e){v[t]=e}}function l(t){if(i(b,t)){var n=b[t];delete b[t],y[t]=!0,p.apply(e,n)}if(!i(v,t)&&!i(y,t))throw new Error("No "+t);return v[t]}function c(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function f(t){return function(){return m&&m.config&&m.config[t]||{}}}var p,d,h,g,v={},b={},m={},y={},_=Object.prototype.hasOwnProperty,w=[].slice,S=/\.js$/;h=function(t,e){var n,r=c(t),i=r[0];return t=r[1],i&&(i=u(i,e),n=l(i)),i?t=n&&n.normalize?n.normalize(t,o(e)):u(t,e):(t=u(t,e),r=c(t),i=r[0],t=r[1],i&&(n=l(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:n}},g={require:function(t){return a(t)},exports:function(t){var e=v[t];return"undefined"!=typeof e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:f(t)}}},p=function(t,n,r,u){var o,c,f,p,d,m,_=[],w=typeof r;if(u=u||t,"undefined"===w||"function"===w){for(n=!n.length&&r.length?["require","exports","module"]:n,d=0;d<n.length;d+=1)if(p=h(n[d],u),c=p.f,"require"===c)_[d]=g.require(t);else if("exports"===c)_[d]=g.exports(t),m=!0;else if("module"===c)o=_[d]=g.module(t);else if(i(v,c)||i(b,c)||i(y,c))_[d]=l(c);else{if(!p.p)throw new Error(t+" missing "+c);p.p.load(p.n,a(u,!0),s(c),{}),_[d]=v[c]}f=r?r.apply(v[t],_):void 0,t&&(o&&o.exports!==e&&o.exports!==v[t]?v[t]=o.exports:f===e&&m||(v[t]=f))}else t&&(v[t]=r)},t=n=d=function(t,n,r,i,u){if("string"==typeof t)return g[t]?g[t](n):l(h(t,n).f);if(!t.splice){if(m=t,m.deps&&d(m.deps,m.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=i,i=u),i?p(e,t,n,r):setTimeout(function(){p(e,t,n,r)},4),d},d.config=function(t){return d(t)},t._defined=v,r=function(t,e,n){e.splice||(n=e,e=[]),i(v,t)||i(b,t)||(b[t]=[t,e,n])},r.amd={jQuery:!0}}(),r("almond",function(){}),r("Util",["require","exports","module"],function(){var t,e,n;return t=function(t){return"string"==typeof t&&"?"!==t.charAt(0)},e=function(t,e){for(var n=e(t[0]),r=1;r<t.length;r++)if(e(t[r])!==n)return r;return null},n=function(t,e){return t.slice(e).reverse().concat(t.slice(0,e))},{identity:function(t){return t},not:function(t){return!t},constantly:function(t){return function(){return t}},afterComplete:function(t,e){var n=t();n&&"function"==typeof n.always?n.always(e):e()},undefinedOrNull:function(t){return void 0===t||null===t},startsWith:function(t,e){return 0===t.indexOf(e)},toString:function(t){switch(t){case void 0:return"undefined";case null:return"null";default:return"string"==typeof t?'"'+t+'"':Array.isArray(t)?"["+t.join(", ")+"]":t.toString()}},equals:function(t,e){return t===e||t&&t.equals&&t.equals(e)},getPropertyValues:function(t){return Object.keys(t).map(function(e){return t[e]})},find:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e(r,n,t))return r}return null},resolveArgs:function(r,i){var u={};if(arguments.length>1){var a,o,s,l=Array.isArray(i)?i:Array.prototype.slice.call(arguments,1);if(t(l[0])||!(s=e(l,t)))a=l,o=r;else{var c=Array.isArray(r)?r:Array.prototype.slice.call(r);a=n(l,s),o=n(c,c.length-(l.length-s))}for(var f=0,p=0;f<a.length&&p<o.length;f++){var d=a[f],h=o[p];if(t(d))u[d]=h,p++;else{var g="function"==typeof d?d(h):"?"!==d.charAt(0)?d:d.substring(1);(g||void 0===h)&&(u[g]=h,p++)}}}return u},canRepresentSubpath:function(t){var e=typeof t;return"string"===e||"number"===e||Array.isArray(t)},shallowMerge:function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},papply:function(t,e,n){var r=this,i=function(e){var n=arguments.length>1?Array.prototype.slice.call(arguments,1):null;if(e){var u={};return i._props?(r.shallowMerge(i._props,u),r.shallowMerge(e,u)):u=e,t(u,n)}return t(i._props,n)};if(t._props){var u={};n!==!1?(r.shallowMerge(t._props,u),r.shallowMerge(e,u)):(r.shallowMerge(e,u),r.shallowMerge(t._props,u)),i._props=u}else i._props=e;return i}}}),r("Dyn",["require","exports","module"],function(){var t={},e={};return{onRegisterModule:function(e,n){t[e]=t[e]||[],t[e].push(n)},registerModule:function(n,r){e[n]=r,t[n]&&t[n].forEach(function(t){t(r)})}}}),r("util/Holder",["require","exports","module"],function(){var t=function(t){this._value=t};return t.prototype=Object.freeze({init:function(e){return new t(e)},getValue:function(){return this._value},setValue:function(t){this._value=t},updateValue:function(t){var e=this._value;return this._value=t(e),e}}),new t(null)}),r("Binding",["require","exports","module","./Dyn","./Util","./util/Holder"],function(t,e,n,r,i,u){var a;r.onRegisterModule("Immutable",function(t){a=t});var o,s,l;o=function(t,e,n){return new C(e,t._regCountHolder,n,t._listeners,t._listenerNestingLevelHolder)},s=function(t){return t._backingValueHolder.getValue()},l=function(t,e){t._backingValueHolder.setValue(e)};var c,f,p,d,h,g;c=[],f=".",p=function(t){return t?t.split(f).map(function(t){return isNaN(t)?t:+t}):[]},d=function(t){return"string"==typeof t?p(t):i.undefinedOrNull(t)?[]:t},h=function(t){return"string"==typeof t?t:t.join(f)},g=function(t,e){return t.concat(e)};var v,b,m,y,_,w;v=function(){throw new Error("Path must point to a key")},b=function(t,e){return e.length>0?t.getIn(e):t},m=function(t,e,n){var r=g(t._path,n),i=e(s(t),r);return l(t,i),r},y=function(t,e,n){return m(t,function(t,n){var r=function(t,n){return t.has(n)?t.updateIn([n],e):t.set(n,e())},i=n.length;switch(i){case 0:v();break;case 1:return r(t,n[0]);default:var u=n.slice(0,i-1),a=n[i-1];return t.updateIn(u,function(t){return r(t,a)})}},n)},_=function(t,e){var n,r=g(t._path,e),i=s(t),u=r.length,o=r.slice(0,u-1),c=function(t,e){return t instanceof a.Vector?t.splice(e,1).toVector():t.delete(e)};switch(u){case 0:v();break;case 1:n=c(i,r[0]);break;default:var f=r[u-1];n=i.updateIn(o,function(t){return c(t,f)})}return l(t,n),o},w=function(t){return t?t.clear():t};var S,V,A,k,x,M,q;S=function(t,e){t._listenerNestingLevelHolder.updateValue(function(t){return t+1}),e(t._listenerNestingLevelHolder.getValue()),t._listenerNestingLevelHolder.updateValue(function(t){return t-1})},V=function(t,e){return t.length===e.length?"":h(e.slice(t.length))},A=function(t,e,n,r,u){var a=d(e),o=d(n),s=b(r,a),l=b(u,a);s!==l&&i.getPropertyValues(t).forEach(function(t){t.disabled||t.cb(s,l,n,V(a,o))})},k=function(t,e,n,r,i){if(2>i){var u=t[""];u&&A(u,c,h(e),n,r)}},x=function(t,e){return i.startsWith(e,t)||i.startsWith(t,e)},M=function(t,e,n,r){var u=h(e);Object.keys(t).filter(i.identity).forEach(function(e){x(e,u)&&A(t[e],e,u,n,r)})},q=function(t,e,n){S(t,function(r){var i=s(t);M(t._listeners,e,i,n),k(t._listeners,e,i,n,r)})};var I,U;I=function(t,e){return i.find(i.getPropertyValues(t._listeners),function(t){return!!t[e]})},U=function(t,e,n){var r=I(t,e);r&&(r[e].disabled=n)};var C=function(t,e,n,r,i){this._backingValueHolder=t,this._regCountHolder=e||u.init(0),this._path=n||c,this._listeners=r||{},this._listenerNestingLevelHolder=i||u.init(0)};C.prototype=Object.freeze({init:function(t){return new C(u.init(t))},withBackingValue:function(t){return o(this,u.init(t),this._path)},setBackingValue:function(t,e){var n=s(this);this._backingValueHolder.setValue(t),e!==!1&&q(this,c,n)},val:function(t){return b(s(this),g(this._path,d(t)))},sub:function(t){return o(this,this._backingValueHolder,g(this._path,d(t)))},update:function(){var t=i.resolveArgs(arguments,"?subpath","update"),e=s(this),n=y(this,t.update,d(t.subpath));q(this,n,e)},set:function(){var t=i.resolveArgs(arguments,"?subpath","newValue");this.update(t.subpath,i.constantly(t.newValue))},"delete":function(t){var e=s(this),n=_(this,d(t));q(this,n,e)},merge:function(t,e,n){var r=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},"?overwrite","newValue"),u=r.overwrite!==!1;this.update(r.subpath,function(t){return t?t instanceof a.Sequence&&n instanceof a.Sequence?u?t.mergeDeep(n):n.mergeDeep(t):u?n:t:n})},clear:function(t){this.update(t,function(t){return w(t)})},addListener:function(t,e){var n="reg"+this._regCountHolder.updateValue(function(t){return t+1}),r=h(g(this._path,d(t))),i=this._listeners[r],u={cb:e,disabled:!1};if(i)i[n]=u;else{var a={};a[n]=u,this._listeners[r]=a}return n},addGlobalListener:function(t){return this.addListener(c,t)},enableListener:function(t){U(this,t,!1)},disableListener:function(t){U(this,t,!0)},withDisabledListener:function(t,e){var n=I(this,t);if(n){var r=n[t];r.disabled=!0,i.afterComplete(e,function(){r.disabled=!1})}else e()},removeListener:function(t){var e=I(this,t);return e?delete e[t]:!1},atomically:function(){return new H(this,[],[])},asArrayPath:function(t){return d(t)},asStringPath:function(t){return h(t)},isInstance:function(t){return t instanceof C}});var H=function(t,e,n){this._binding=t,this._updates=e,this._removals=n,this._committed=!1};return H.prototype=function(){var t,e,n,r,u;return t=function(t,e,n,r){var i=t._updates.slice(0);return i.push({binding:e,update:n,subpath:r}),i},e=function(t,e,n){var r=t._removals.slice(0);return r.push({binding:e,subpath:n}),r},n=function(t){return t._updates.length>0||t._removals.length>0},r=function(t){if(t.length<2)return t;for(var e=t.sort(),n=e[0],r=h(n),u=[n],a=1;a<e.length;a++){var o=e[a],s=h(o);i.startsWith(s,r)||(u.push(o),r=s)}return u},u=function(t){if(t._committed)throw new Error("Transaction already committed");var e=t._updates.map(function(t){return y(t.binding,t.update,t.subpath)}),n=t._removals.map(function(t){return _(t.binding,t.subpath)});return t._committed=!0,e.concat(n)},Object.freeze({update:function(){var e=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},"?binding","update"),n=e.binding||this._binding,r=t(this,n,e.update,d(e.subpath));return new H(n,r,this._removals)},set:function(){var t=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},"?binding","newValue");return this.update(t.subpath,t.binding,i.constantly(t.newValue))},"delete":function(){var t=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},"?binding"),n=t.binding||this._binding,r=e(this,n,d(t.subpath));return new H(n,this._updates,r)},merge:function(t,e,n,r){var u=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},function(t){return"boolean"==typeof t?"overwrite":null},"?binding","newValue"),o=u.overwrite!==!1;return this.update(u.subpath,u.binding,function(t){var e=u.newValue;return t?t instanceof a.Sequence&&e instanceof a.Sequence?o?t.mergeDeep(e):e.mergeDeep(t):o?e:t:r})},clear:function(){var e=i.resolveArgs(arguments,function(t){return i.canRepresentSubpath(t)?"subpath":null},"?binding"),n=e.binding||this._binding,r=t(this,n,function(t){return w(t)},d(e.subpath));return new H(n,r,this._removals)},commit:function(t){if(n(this)){var e=this._binding,i=s(e),a=u(this),o=s(e);if(t!==!1){if(o!==i){var l=r(a);return S(e,function(t){var n=e._listeners;l.forEach(function(t){M(n,t,o,i)}),k(n,l[0],o,i,t)}.bind(e)),a}return[]}return a}return[]}})}(),new C(u.init(null))}),r("History",["require","exports","module","./Dyn"],function(t,e,n,r){var i;r.onRegisterModule("Immutable",function(t){i=t});var u,a,o,s,l,c;return u=function(t){t.set(i.fromJS({listenerId:null,undo:[],redo:[]}))},a=function(t){t.atomically().set("undo",i.Vector.empty()).set("redo",i.Vector.empty()).commit()},o=function(t){var e=t.val("listenerId");t.removeListener(e),t.set(null)},s=function(t,e){var n=t.addListener([],function(n,r,u,a){e.atomically().update(function(e){return e.updateIn(["undo"],function(e){var u=t.asArrayPath(a);return e.unshift(i.Map({newValue:u.length?n.getIn(u):n,oldValue:u.length?r.getIn(u):r,path:a}))}).set("redo",i.Vector.empty())}).commit(!1)});e.atomically().set("listenerId",n).commit(!1)},l=function(t,e,n,r){r.withDisabledListener(n,function(){r.set(t,e)})},c=function(t,e,n,r,i){var u=e.val();if(u.length>0){var a=u.get(0);return e.atomically().delete(0).update(n,function(t){return t.unshift(a)}).commit(!1),l(a.get("path"),a.get(i),r,t),!0}return!1},{init:function(t,e){u(e),s(t,e)},clear:function(t){a(t)},destroy:function(t){o(t)},hasUndo:function(t){var e=t.val("undo");return!!e&&e.length>0},hasRedo:function(t){var e=t.val("redo");return!!e&&e.length>0},undo:function(t,e){var n=e.val("listenerId"),r=e.sub("undo"),i=e.sub("redo");return c(t,r,i,n,"oldValue")},redo:function(t,e){var n=e.val("listenerId"),r=e.sub("undo"),i=e.sub("redo");return c(t,i,r,n,"newValue")}}}),r("util/Callback",["require","exports","module","../Util"],function(t,e,n,r){return{set:function(t){var e=r.resolveArgs(arguments,"binding",function(t){return r.canRepresentSubpath(t)?"subpath":null},"?f");return function(n){var r=n.target.value;return t.set(e.subpath,e.f?e.f(r):r),!1}},"delete":function(t){var e=r.resolveArgs(arguments,"binding",function(t){return r.canRepresentSubpath(t)?"subpath":null},"?pred");return function(n){var r=n.target.value;return(!e.pred||e.pred(r))&&t.delete(e.subpath),!1}},onKey:function(t,e,n,i){var u=n||!1,a=i||!1;return function(n){var i="string"==typeof e?n.key===e:r.find(e,function(t){return t===n.key});return i&&n.shiftKey===u&&n.ctrlKey===a?(t(n),!1):!0}},onEnter:function(t){return this.onKey(t,"Enter")},onEscape:function(t){return this.onKey(t,"Escape")}}}),r("Morearty",["require","exports","module","./Dyn","./Util","./Binding","./History","./util/Callback"],function(t,n,r,i,u,a,o,s){var l=function(t,e,n,r){this.React=t,this.Immutable=e,this.Imm=e,this._initialState=n,this._previousState=null,this._currentStateBinding=a.init(n),this._configuration=r,this._fullUpdateQueued=!1,this._fullUpdateInProgress=!1};return l.prototype=function(){var t,n,r;t=function(t,e,n){var r=e.props[t._configuration.statePropertyName];return n?r[n]:r},n=function(t,e){var n=t.val(),r=e?t.withBackingValue(e).val():null;return n!==r},r=function(t,e){var r=t._previousState;if(a.isInstance(e))return n(e,r);var i=u.getPropertyValues(e);return!!u.find(i,function(t){return n(t,r)})};var i,l;return i=function(e,n){var i=function(){if(e._fullUpdateInProgress)return!0;var n=t(e,this);return!n||r(e,n)};n.shouldComponentUpdate||(n.shouldComponentUpdate=i),n.shouldComponentUpdateSuper=i},l=function(e,n){var r=n.componentWillMount;"function"==typeof n.getDefaultState&&(n.componentWillMount=function(){var i=n.getDefaultState();if(i){var u=t(e,this),a="function"==typeof n.getMergeStrategy?n.getMergeStrategy():"preserve";if("replace"===a)u.atomically().set(i).commit(!1);else{var o="overwrite"===a;u.atomically().merge(o,i).commit(!1)}}r&&r.call(this)})},Object.freeze({Util:u,Binding:a,History:o,Callback:s,state:function(){return this._currentStateBinding},currentState:function(){return this.state().val()},previousState:function(){return this._previousState},resetState:function(t){this._currentStateBinding.setBackingValue(this._initialState,t)},replaceState:function(t,e){this._currentStateBinding.setBackingValue(t,e)},changed:function(){var t=u.resolveArgs(arguments,"binding",function(t){return u.canRepresentSubpath(t)?"subpath":null},"?compare"),e=t.binding.val(t.subpath),n=t.binding.withBackingValue(this._previousState).val(t.subpath);return t.compare?!t.compare(e,n):e!==n},init:function(t){var n=this,r=n._configuration.requestAnimationFrameEnabled,i=e&&e.requestAnimationFrame,u=function(e,r){n._previousState=r,n._fullUpdateQueued?(n._fullUpdateInProgress=!0,t.forceUpdate(function(){n._fullUpdateQueued=!1,n._fullUpdateInProgress=!1})):t.forceUpdate()};n._currentStateBinding.addGlobalListener(function(t,e){r&&i?i(u.bind(n,t,e),null):u(t,e)})},createClass:function(e){var n=this;return i.call(this,n,e),l.call(this,n,e),e.getState=function(e){return t(n,this,e)},e.getPreviousState=function(e){return t(n,this,e).withBackingValue(n._previousState).val()},n.React.createClass(e)},queueFullUpdate:function(){this._fullUpdateQueued=!0}})}(),{createContext:function(t,e,n,r){i.registerModule("Immutable",e);var u=e.Map,a=n instanceof u?n:e.fromJS(n),o=r||{};return new l(t,e,a,{statePropertyName:o.statePropertyName||"state",requestAnimationFrameEnabled:o.requestAnimationFrameEnabled||!1})}}}),r("Main",["require","exports","module","./Util","./Binding","./History","./util/Callback","./Morearty"],function(t,n,r){var i=function(t){return{Util:t("./Util"),Binding:t("./Binding"),History:t("./History"),Callback:t("./util/Callback"),createContext:t("./Morearty").createContext}}.call(this,t,n,r),u=e.Morearty;return e.Morearty=i,i.noConflict=function(){return e.Morearty=u,i},i}),n("Main")};return n?define(i):r?module.exports=i():i()}).call(this,"object"==typeof exports?global:window,"object"==typeof exports?global:window);