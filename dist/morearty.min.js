// Generated by uRequire v0.6.18 - template: 'combined' 
// Combined template optimized with RequireJS/r.js v2.1.14 & almond.
/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

(function(e,t){"use strict";var n=!("function"!=typeof define||!define.amd),r="object"==typeof exports,i=function(){var e,n,r;return function(t){function i(e,t){return _.call(e,t)}function u(e,t){var n,r,i,u,a,o,s,l,c,f,p,d=t&&t.split("/"),h=b.map,g=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(d=d.slice(0,d.length-1),e=e.split("/"),a=e.length-1,b.nodeIdCompat&&S.test(e[a])&&(e[a]=e[a].replace(S,"")),e=d.concat(e),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||g)&&h){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),d)for(f=d.length;f>0;f-=1)if(i=h[d.slice(0,f).join("/")],i&&(i=i[r])){u=i,o=c;break}if(u)break;!s&&g&&g[r]&&(s=g[r],l=c)}!u&&s&&(u=s,o=l),u&&(n.splice(0,o,u),e=n.join("/"))}return e}function a(e,n){return function(){return d.apply(t,w.call(arguments,0).concat([e,n]))}}function o(e){return function(t){return u(t,e)}}function s(e){return function(t){v[e]=t}}function l(e){if(i(m,e)){var n=m[e];delete m[e],y[e]=!0,p.apply(t,n)}if(!i(v,e)&&!i(y,e))throw new Error("No "+e);return v[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function f(e){return function(){return b&&b.config&&b.config[e]||{}}}var p,d,h,g,v={},m={},b={},y={},_=Object.prototype.hasOwnProperty,w=[].slice,S=/\.js$/;h=function(e,t){var n,r=c(e),i=r[0];return e=r[1],i&&(i=u(i,t),n=l(i)),i?e=n&&n.normalize?n.normalize(e,o(t)):u(e,t):(e=u(e,t),r=c(e),i=r[0],e=r[1],i&&(n=l(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},g={require:function(e){return a(e)},exports:function(e){var t=v[e];return"undefined"!=typeof t?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:f(e)}}},p=function(e,n,r,u){var o,c,f,p,d,b,_=[],w=typeof r;if(u=u||e,"undefined"===w||"function"===w){for(n=!n.length&&r.length?["require","exports","module"]:n,d=0;d<n.length;d+=1)if(p=h(n[d],u),c=p.f,"require"===c)_[d]=g.require(e);else if("exports"===c)_[d]=g.exports(e),b=!0;else if("module"===c)o=_[d]=g.module(e);else if(i(v,c)||i(m,c)||i(y,c))_[d]=l(c);else{if(!p.p)throw new Error(e+" missing "+c);p.p.load(p.n,a(u,!0),s(c),{}),_[d]=v[c]}f=r?r.apply(v[e],_):void 0,e&&(o&&o.exports!==t&&o.exports!==v[e]?v[e]=o.exports:f===t&&b||(v[e]=f))}else e&&(v[e]=r)},e=n=d=function(e,n,r,i,u){if("string"==typeof e)return g[e]?g[e](n):l(h(e,n).f);if(!e.splice){if(b=e,b.deps&&d(b.deps,b.callback),!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},"function"==typeof r&&(r=i,i=u),i?p(t,e,n,r):setTimeout(function(){p(t,e,n,r)},4),d},d.config=function(e){return d(e)},e._defined=v,r=function(e,t,n){t.splice||(n=t,t=[]),i(v,e)||i(m,e)||(m[e]=[e,t,n])},r.amd={jQuery:!0}}(),r("almond",function(){}),r("Util",["require","exports","module"],function(){var e,t,n;return e=function(e){return"string"==typeof e&&"?"!==e.charAt(0)},t=function(e,t){for(var n=t(e[0]),r=1;r<e.length;r++)if(t(e[r])!==n)return r;return null},n=function(e,t){return e.slice(t).reverse().concat(e.slice(0,t))},{identity:function(e){return e},not:function(e){return!e},constantly:function(e){return function(){return e}},afterComplete:function(e,t){var n=e();n&&"function"==typeof n.always?n.always(t):t()},undefinedOrNull:function(e){return void 0===e||null===e},startsWith:function(e,t){return 0===e.indexOf(t)},toString:function(e){switch(e){case void 0:return"undefined";case null:return"null";default:return"string"==typeof e?'"'+e+'"':Array.isArray(e)?"["+e.join(", ")+"]":e.toString()}},equals:function(e,t){return e===t||e&&e.equals&&e.equals(t)},getPropertyValues:function(e){return Object.keys(e).map(function(t){return e[t]})},find:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r,n,e))return r}return null},resolveArgs:function(r,i){var u={};if(arguments.length>1){var a,o,s,l=Array.isArray(i)?i:Array.prototype.slice.call(arguments,1);if(e(l[0])||!(s=t(l,e)))a=l,o=r;else{var c=Array.isArray(r)?r:Array.prototype.slice.call(r);a=n(l,s),o=n(c,c.length-(l.length-s))}for(var f=0,p=0;f<a.length&&p<o.length;f++){var d=a[f],h=o[p];if(e(d))u[d]=h,p++;else{var g="function"==typeof d?d(h):"?"!==d.charAt(0)?d:d.substring(1);(g||void 0===h)&&(u[g]=h,p++)}}}return u},canRepresentSubpath:function(e){var t=typeof e;return"string"===t||"number"===t||Array.isArray(e)},shallowMerge:function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},papply:function(e,t,n){var r=this,i=function(t){var n=arguments.length>1?Array.prototype.slice.call(arguments,1):null;if(t){var u={};return i._props?(r.shallowMerge(i._props,u),r.shallowMerge(t,u)):u=t,e(u,n)}return e(i._props,n)};if(e._props){var u={};n!==!1?(r.shallowMerge(e._props,u),r.shallowMerge(t,u)):(r.shallowMerge(t,u),r.shallowMerge(e._props,u)),i._props=u}else i._props=t;return i}}}),r("Dyn",["require","exports","module"],function(){var e={},t={};return{onRegisterModule:function(t,n){e[t]=e[t]||[],e[t].push(n)},registerModule:function(n,r){t[n]=r,e[n]&&e[n].forEach(function(t){t(r),delete e[n]})}}}),r("util/Holder",["require","exports","module"],function(){var e=function(e){this._value=e};return e.prototype=Object.freeze({init:function(t){return new e(t)},getValue:function(){return this._value},setValue:function(e){this._value=e},updateValue:function(e){var t=this._value;return this._value=e(t),t}}),new e(null)}),r("Binding",["require","exports","module","./Dyn","./Util","./util/Holder"],function(e,t,n,r,i,u){var a=null;r.onRegisterModule("Immutable",function(e){a=e});var o,s,l;o=function(e,t,n){return new O(t,e._regCountHolder,n,e._listeners,e._listenerNestingLevelHolder)},s=function(e){return e._backingValueHolder.getValue()},l=function(e,t){e._backingValueHolder.setValue(t)};var c,f,p,d,h,g;c=[],f=".",p=function(e){return e?e.split(f).map(function(e){return isNaN(e)?e:+e}):[]},d=function(e){return"string"==typeof e?p(e):i.undefinedOrNull(e)?[]:e},h=function(e){return"string"==typeof e?e:e.join(f)},g=function(e,t){return e.concat(t)};var v,m,b,y,_,w;v=function(){throw new Error("Path must point to a key")},m=function(e,t){return t.length>0?e.getIn(t):e},b=function(e,t,n){var r=g(e._path,n),i=t(s(e),r);return l(e,i),r},y=function(e,t,n){return b(e,function(e,n){var r=function(e,n){return e.has(n)?e.update(n,t):e.set(n,t())},i=n.length;switch(i){case 0:v();break;case 1:return r(e,n[0]);default:var u=n.slice(0,i-1),a=n[i-1];return e.updateIn(u,function(e){return r(e,a)})}},n)},_=function(e,t){var n,r=g(e._path,t),i=s(e),u=r.length,o=r.slice(0,u-1),c=function(e,t){return e instanceof a.Vector?e.splice(t,1).toVector():e.delete(t)};switch(u){case 0:v();break;case 1:n=c(i,r[0]);break;default:var f=r[u-1];n=i.updateIn(o,function(e){return c(e,f)})}return l(e,n),o},w=function(e){return e?e.clear():e};var S,V,E,R,M,A,k;S=function(e,t){e._listenerNestingLevelHolder.updateValue(function(e){return e+1}),t(e._listenerNestingLevelHolder.getValue()),e._listenerNestingLevelHolder.updateValue(function(e){return e-1})},V=function(e,t){return e.length===t.length?"":h(t.slice(e.length))},E=function(e,t,n,r,u){var a=d(t),o=d(n),s=m(r,a),l=m(u,a);s!==l&&i.getPropertyValues(e).forEach(function(e){e.disabled||e.cb(s,l,n,V(a,o))})},R=function(e,t,n,r,i){if(2>i){var u=e[""];u&&E(u,c,h(t),n,r)}},M=function(e,t){return i.startsWith(t,e)||i.startsWith(e,t)},A=function(e,t,n,r){var u=h(t);Object.keys(e).filter(i.identity).forEach(function(t){M(t,u)&&E(e[t],t,u,n,r)})},k=function(e,t,n){S(e,function(r){var i=s(e);A(e._listeners,t,i,n),R(e._listeners,t,i,n,r)})};var x,I;x=function(e,t){return i.find(i.getPropertyValues(e._listeners),function(e){return!!e[t]})},I=function(e,t,n){var r=x(e,t);r&&(r[t].disabled=n)};var O=function(e,t,n,r,i){this._backingValueHolder=e,this._regCountHolder=t||u.init(0),this._path=n||c,this._listeners=r||{},this._listenerNestingLevelHolder=i||u.init(0)};O.prototype=Object.freeze({init:function(e){return new O(u.init(e))},withBackingValue:function(e){return o(this,u.init(e),this._path)},setBackingValue:function(e,t){var n=s(this);this._backingValueHolder.setValue(e),t!==!1&&k(this,c,n)},val:function(e){return m(s(this),g(this._path,d(e)))},sub:function(e){return o(this,this._backingValueHolder,g(this._path,d(e)))},update:function(){var e=i.resolveArgs(arguments,"?subpath","update"),t=s(this),n=y(this,e.update,d(e.subpath));k(this,n,t)},set:function(){var e=i.resolveArgs(arguments,"?subpath","newValue");this.update(e.subpath,i.constantly(e.newValue))},"delete":function(e){var t=s(this),n=_(this,d(e));k(this,n,t)},merge:function(){var e=i.resolveArgs(arguments,function(e){return i.canRepresentSubpath(e)?"subpath":null},"?preserve","newValue");this.update(e.subpath,function(t){var n=e.newValue;return i.undefinedOrNull(t)?n:t instanceof a.Sequence&&n instanceof a.Sequence?e.preserve?n.mergeDeep(t):t.mergeDeep(n):e.preserve?t:n})},clear:function(e){this.update(e,function(e){return w(e)})},addListener:function(e,t){var n="reg"+this._regCountHolder.updateValue(function(e){return e+1}),r=h(g(this._path,d(e))),i=this._listeners[r],u={cb:t,disabled:!1};if(i)i[n]=u;else{var a={};a[n]=u,this._listeners[r]=a}return n},addGlobalListener:function(e){return this.addListener(c,e)},enableListener:function(e){I(this,e,!1)},disableListener:function(e){I(this,e,!0)},withDisabledListener:function(e,t){var n=x(this,e);if(n){var r=n[e];r.disabled=!0,i.afterComplete(t,function(){r.disabled=!1})}else t()},removeListener:function(e){var t=x(this,e);return t?delete t[e]:!1},atomically:function(){return new P(this,[],[])},asArrayPath:function(e){return d(e)},asStringPath:function(e){return h(e)},isInstance:function(e){return e instanceof O}});var P=function(e,t,n){this._binding=e,this._updates=t,this._removals=n,this._committed=!1};return P.prototype=function(){var e,t,n,r,u;return e=function(e,t,n,r){var i=e._updates.slice(0);return i.push({binding:t,update:n,subpath:r}),i},t=function(e,t,n){var r=e._removals.slice(0);return r.push({binding:t,subpath:n}),r},n=function(e){return e._updates.length>0||e._removals.length>0},r=function(e){if(e.length<2)return e;for(var t=e.sort(),n=t[0],r=h(n),u=[n],a=1;a<t.length;a++){var o=t[a],s=h(o);i.startsWith(s,r)||(u.push(o),r=s)}return u},u=function(e){if(e._committed)throw new Error("Transaction already committed");var t=e._updates.map(function(e){return y(e.binding,e.update,e.subpath)}),n=e._removals.map(function(e){return _(e.binding,e.subpath)});return e._committed=!0,t.concat(n)},Object.freeze({update:function(){var t=i.resolveArgs(arguments,function(e){return i.canRepresentSubpath(e)?"subpath":null},"?binding","update"),n=t.binding||this._binding,r=e(this,n,t.update,d(t.subpath));return new P(n,r,this._removals)},set:function(){var e=i.resolveArgs(arguments,function(e){return i.canRepresentSubpath(e)?"subpath":null},"?binding","newValue");return this.update(e.subpath,e.binding,i.constantly(e.newValue))},"delete":function(){var e=i.resolveArgs(arguments,function(e){return i.canRepresentSubpath(e)?"subpath":null},"?binding"),n=e.binding||this._binding,r=t(this,n,d(e.subpath));return new P(n,this._updates,r)},merge:function(e,t,n,r){var u=i.resolveArgs(arguments,function(e){return i.canRepresentSubpath(e)?"subpath":null},function(e){return"boolean"==typeof e?"preserve":null},"?binding","newValue");return this.update(u.subpath,u.binding,function(e){var t=u.newValue;return i.undefinedOrNull(e)?r:e instanceof a.Sequence&&t instanceof a.Sequence?u.preserve?t.mergeDeep(e):e.mergeDeep(t):u.preserve?e:t})},clear:function(){var t=i.resolveArgs(arguments,function(e){return i.canRepresentSubpath(e)?"subpath":null},"?binding"),n=t.binding||this._binding,r=e(this,n,function(e){return w(e)},d(t.subpath));return new P(n,r,this._removals)},commit:function(e){if(n(this)){var t=this._binding,i=s(t),a=u(this),o=s(t);if(e!==!1){if(o!==i){var l=r(a);return S(t,function(e){var n=t._listeners;l.forEach(function(e){A(n,e,o,i)}),R(n,l[0],o,i,e)}.bind(t)),a}return[]}return a}return[]}})}(),new O(u.init(null))}),r("History",["require","exports","module","./Dyn"],function(e,t,n,r){var i=null;r.onRegisterModule("Immutable",function(e){i=e});var u,a,o,s,l,c;return u=function(e){e.set(i.fromJS({listenerId:null,undo:[],redo:[]}))},a=function(e){e.atomically().set("undo",i.Vector.empty()).set("redo",i.Vector.empty()).commit()},o=function(e){var t=e.val("listenerId");e.removeListener(t),e.set(null)},s=function(e,t){var n=e.addListener([],function(n,r,u,a){t.atomically().update(function(t){return t.update("undo",function(t){var u=e.asArrayPath(a);return t.unshift(i.Map({newValue:u.length?n.getIn(u):n,oldValue:u.length?r.getIn(u):r,path:a}))}).set("redo",i.Vector.empty())}).commit(!1)});t.atomically().set("listenerId",n).commit(!1)},l=function(e,t,n,r){r.withDisabledListener(n,function(){r.set(e,t)})},c=function(e,t,n,r,i){var u=t.val();if(u.length>0){var a=u.get(0);return t.atomically().delete(0).update(n,function(e){return e.unshift(a)}).commit(!1),l(a.get("path"),a.get(i),r,e),!0}return!1},{init:function(e,t){u(t),s(e,t)},clear:function(e){a(e)},destroy:function(e){o(e)},hasUndo:function(e){var t=e.val("undo");return!!t&&t.length>0},hasRedo:function(e){var t=e.val("redo");return!!t&&t.length>0},undo:function(e,t){var n=t.val("listenerId"),r=t.sub("undo"),i=t.sub("redo");return c(e,r,i,n,"oldValue")},redo:function(e,t){var n=t.val("listenerId"),r=t.sub("undo"),i=t.sub("redo");return c(e,i,r,n,"newValue")}}}),r("util/Callback",["require","exports","module","../Util"],function(e,t,n,r){return{set:function(e){var t=r.resolveArgs(arguments,"binding",function(e){return r.canRepresentSubpath(e)?"subpath":null},"?f");return function(n){var r=n.target.value;return e.set(t.subpath,t.f?t.f(r):r),!1}},"delete":function(e){var t=r.resolveArgs(arguments,"binding",function(e){return r.canRepresentSubpath(e)?"subpath":null},"?pred");return function(n){var r=n.target.value;return(!t.pred||t.pred(r))&&e.delete(t.subpath),!1}},onKey:function(e,t,n,i){var u=n||!1,a=i||!1;return function(n){var i="string"==typeof t?n.key===t:r.find(t,function(e){return e===n.key});return i&&n.shiftKey===u&&n.ctrlKey===a?(e(n),!1):!0}},onEnter:function(e){return this.onKey(e,"Enter")},onEscape:function(e){return this.onKey(e,"Escape")}}}),r("DOM",["require","exports","module","./Dyn"],function(e,t,n,r){var i,t={};r.onRegisterModule("React",function(e){i=e;var n=i.DOM;t.input=u(n.input,"input"),t.textarea=u(n.textarea,"textarea"),t.otion=u(n.option,"option"),Object.freeze(t)});var u=function(e,t){return i.createClass({getDisplayName:function(){return t},getInitialState:function(){return{value:this.props.value}},onChange:function(e){var t=this.props.onChange;if(t){var n=t(e);return this.setState({value:e.target.value}),n}},componentWillReceiveProps:function(e){this.setState({value:e.value})},render:function(){return this.transferPropsTo(e({value:this.state.value,onChange:this.onChange,children:this.props.children}))}})};return t}),r("Morearty",["require","exports","module","./Dyn","./Util","./Binding","./History","./util/Callback","./DOM"],function(e,n,r,i,u,a,o,s,l){var c=Object.freeze({OVERWRITE:"overwrite",OVERWRITE_EMPTY:"overwrite-empty",MERGE_PRESERVE:"merge-preserve",MERGE_REPLACE:"merge-replace"}),f=function(e,t,n,r){this.React=e,this.Immutable=t,this.Imm=t,this._initialState=n,this._previousState=null,this._currentStateBinding=a.init(n),this._configuration=r,this._fullUpdateQueued=!1,this._fullUpdateInProgress=!1};return f.prototype=function(){var e,n,r;e=function(e,t,n){var r=t.props[e._configuration.statePropertyName];return n?r[n]:r},n=function(e,t){var n=e.val(),r=t?e.withBackingValue(t).val():null;return n!==r},r=function(e,t){var r=e._previousState;if(a.isInstance(t))return n(t,r);var i=u.getPropertyValues(t);return!!u.find(i,function(e){return n(e,r)})};var i,f;return i=function(t,n){var i=function(){if(t._fullUpdateInProgress)return!0;var n=e(t,this);return!n||r(t,n)};n.shouldComponentUpdate||(n.shouldComponentUpdate=i),n.shouldComponentUpdateSuper=i},f=function(t,n){var r=n.componentWillMount;"function"==typeof n.getDefaultState&&(n.componentWillMount=function(){var i=n.getDefaultState();if(i){var a=e(t,this),o="function"==typeof n.getMergeStrategy?n.getMergeStrategy():c.MERGE_PRESERVE,s=a.atomically();if("function"==typeof o)s=s.update(function(e){return o(e,i)});else switch(o){case c.OVERWRITE:s=s.set(i);break;case c.OVERWRITE_EMPTY:s=s.update(function(e){var n=u.undefinedOrNull(e)||e instanceof t.Imm.Sequence&&0===e.count();return n?i:e});break;case c.MERGE_PRESERVE:s=s.merge(!0,i);break;case c.MERGE_REPLACE:s=s.merge(!1,i);break;default:throw new Error("Invalid merge strategy: "+o)}s.commit(!1)}r&&r.call(this)})},Object.freeze({Util:u,Binding:a,History:o,Callback:s,MergeStrategy:c,DOM:l,state:function(){return this._currentStateBinding},currentState:function(){return this.state().val()},previousState:function(){return this._previousState},resetState:function(e){this._currentStateBinding.setBackingValue(this._initialState,e!==!1)},replaceState:function(e,t){this._currentStateBinding.setBackingValue(e,t)},changed:function(){var e=u.resolveArgs(arguments,"binding",function(e){return u.canRepresentSubpath(e)?"subpath":null},"?compare"),t=e.binding.val(e.subpath),n=e.binding.withBackingValue(this._previousState).val(e.subpath);return e.compare?!e.compare(t,n):t!==n},init:function(e){var n=this,r=n._configuration.requestAnimationFrameEnabled,i=t&&t.requestAnimationFrame,u=function(t,r){n._previousState=r,n._fullUpdateQueued?(n._fullUpdateInProgress=!0,e.forceUpdate(function(){n._fullUpdateQueued=!1,n._fullUpdateInProgress=!1})):e.forceUpdate()};n._currentStateBinding.addGlobalListener(function(e,t){r&&i?i(u.bind(n,e,t),null):u(e,t)})},createClass:function(t){var n=this;return i.call(this,n,t),f.call(this,n,t),t.getState=function(t){return e(n,this,t)},t.getPreviousState=function(t){return e(n,this,t).withBackingValue(n._previousState).val()},n.React.createClass(t)},queueFullUpdate:function(){this._fullUpdateQueued=!0}})}(),{createContext:function(e,t,n,r){i.registerModule("React",e),i.registerModule("Immutable",t);var u=t.Map,a=n instanceof u?n:t.fromJS(n),o=r||{};return new f(e,t,a,{statePropertyName:o.statePropertyName||"state",requestAnimationFrameEnabled:o.requestAnimationFrameEnabled||!1})}}}),r("Main",["require","exports","module","./Util","./Morearty"],function(e,n,r){var i=function(e){return{Util:e("./Util"),createContext:e("./Morearty").createContext}}.call(this,e,n,r),u=t.Morearty;return t.Morearty=i,i.noConflict=function(){return t.Morearty=u,i},i}),n("Main")};return n?define(i):r?module.exports=i():i()}).call(this,"object"==typeof exports?global:window,"object"==typeof exports?global:window);